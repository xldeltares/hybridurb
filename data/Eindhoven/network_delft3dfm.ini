[global]
data_libs = []

[setup_basemaps]
report = Case2: Identify the flow diagram by aggregating at outlets and pumps. (cmd argument:  "build nowcasting models/case2 "{'geom': './data/v1.0/FCA.shp'}" -i nowcasting_build_main_case2.ini -d data_sources_main.yml -vvv)

[setup_graph]
graph_class = DiGraph      # initialise graph model [Graph, DiGraph, MultiGraph, MultiDiGraph]

[setup_edges]
edges_fn = branches_case3
id_col = branchid
attribute_cols = ["ismain", "branchtype", "geom_length"]
snap_offset = 0.5

[setup_edge_attributes]
edges_fn = pumps_case3
snap_offset = 10
attribute_cols = ["ismain", "branchtype", "capacity"]

[setup_edge_attributes1]
edges_fn = subcats_case3
id_col = branchid
attribute_cols = ["area"]

[setup_edge_attributes2]
edges_fn = outlets_case3
attribute_cols = ["branchtype"]
snap_offset = 0.5

[setup_diagram]
subgraph_fn = split_pumps
target_query = branchtype == 'outlet' | (branchtype == 'pump' & ismain == 'True')
weight = geom_length
report = flow diagram summation of outlets and pumps




