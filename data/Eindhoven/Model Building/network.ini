[setup_basemaps]
report = Case2: Identify the flow diagram by aggregating at outlets and pumps. (cmd argument:  "build nowcasting models/case2 "{'geom': './data/v1.0/FCA.shp'}" -i nowcasting_build_main_case2.ini -d data_sources_main.yml -vvv)

[setup_graph]
graph_class = DiGraph      # initialise graph model [Graph, DiGraph, MultiGraph, MultiDiGraph]

[setup_edges]
edges_fn = branches
id_col = edgeid
attribute_cols = ["edgetype", "geom_length"]
snap_offset = 0.5

[setup_edge_attributes]
edges_fn = crosssections
attribute_cols = ["shift", "geom_area", "frictiontype", "frictiontype"]
snap_offset = 10

[setup_nodes]
nodes_fn = manholes
id_col = nodeid
attribute_cols = ["shift", "area", "geom_depth"]
snap_offset = 0.5

[setup_diagram]
subgraph_fn = split_pumps
target_query = branchtype == 'outlet' | (branchtype == 'pump' & ismain == 'True')
weight = geom_length
report = flow diagram summation of outlets and pumps




